(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{70156:function(t,r,n){"use strict";n.d(r,{F:function(){return y},f:function(){return $}});var s=n(82038);let a=["light","dark"],i="(prefers-color-scheme: dark)",o="undefined"==typeof window,l=(0,s.createContext)(void 0),c={setTheme:t=>{},themes:[]},y=()=>{var t;return null!==(t=(0,s.useContext)(l))&&void 0!==t?t:c},$=t=>(0,s.useContext)(l)?s.createElement(s.Fragment,null,t.children):s.createElement(f,t),d=["light","dark"],f=({forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:o=!0,storageKey:c="theme",themes:m=d,defaultTheme:h=n?"system":"light",attribute:g="data-theme",value:v,children:x,nonce:j})=>{let[w,T]=(0,s.useState)(()=>S(c,h)),[k,C]=(0,s.useState)(()=>S(c)),N=v?Object.values(v):m,P=(0,s.useCallback)(t=>{let s=t;if(!s)return;"system"===t&&n&&(s=p());let i=v?v[s]:s,l=r?b():null,c=document.documentElement;if("class"===g?(c.classList.remove(...N),i&&c.classList.add(i)):i?c.setAttribute(g,i):c.removeAttribute(g),o){let t=a.includes(h)?h:null,r=a.includes(s)?s:t;c.style.colorScheme=r}null==l||l()},[]),E=(0,s.useCallback)(t=>{T(t);try{localStorage.setItem(c,t)}catch(t){}},[t]),I=(0,s.useCallback)(r=>{let s=p(r);C(s),"system"===w&&n&&!t&&P("system")},[w,t]);(0,s.useEffect)(()=>{let t=window.matchMedia(i);return t.addListener(I),I(t),()=>t.removeListener(I)},[I]),(0,s.useEffect)(()=>{let e=t=>{t.key===c&&E(t.newValue||h)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),(0,s.useEffect)(()=>{P(null!=t?t:w)},[t,w]);let A=(0,s.useMemo)(()=>({theme:w,setTheme:E,forcedTheme:t,resolvedTheme:"system"===w?k:w,themes:n?[...m,"system"]:m,systemTheme:n?k:void 0}),[w,E,t,k,n,m]);return s.createElement(l.Provider,{value:A},s.createElement(u,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:n,enableColorScheme:o,storageKey:c,themes:m,defaultTheme:h,attribute:g,value:v,children:x,attrs:N,nonce:j}),x)},u=(0,s.memo)(({forcedTheme:t,storageKey:r,attribute:n,enableSystem:o,enableColorScheme:l,defaultTheme:c,value:d,attrs:u,nonce:m})=>{let h="system"===c,g="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${u.map(t=>`'${t}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=l?a.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",$=(t,r=!1,s=!0)=>{let i=d?d[t]:t,o=r?t+"|| ''":`'${i}'`,c="";return l&&s&&!r&&a.includes(t)&&(c+=`d.style.colorScheme = '${t}';`),"class"===n?c+=r||i?`c.add(${o})`:"null":i&&(c+=`d[s](n,${o})`),c},x=t?`!function(){${g}${$(t)}}()`:o?`!function(){try{${g}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${h})){var t='${i}',m=window.matchMedia(t);if(m.media!==t||m.matches){${$("dark")}}else{${$("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${$(d?"x[e]":"e",!0)}}${h?"":"else{"+$(c,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${r}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${$(d?"x[e]":"e",!0)}}else{${$(c,!1,!1)};}${v}}catch(t){}}();`;return s.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:x}})},()=>!0),S=(t,r)=>{let n;if(!o){try{n=localStorage.getItem(t)||void 0}catch(t){}return n||r}},b=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=t=>(t||(t=window.matchMedia(i)),t.matches?"dark":"light")},42627:function(t,r,n){Promise.resolve().then(n.bind(n,23913)),Promise.resolve().then(n.bind(n,339)),Promise.resolve().then(n.bind(n,59376)),Promise.resolve().then(n.bind(n,45017)),Promise.resolve().then(n.bind(n,67315)),Promise.resolve().then(n.bind(n,14104)),Promise.resolve().then(n.t.bind(n,13359,23)),Promise.resolve().then(n.t.bind(n,70062,23)),Promise.resolve().then(n.t.bind(n,85993,23)),Promise.resolve().then(n.t.bind(n,73348,23))},339:function(t,r,n){"use strict";n.r(r),n.d(r,{SidebarActions:function(){return SidebarActions}});var s=n(95802),a=n(82038),i=n(28539),o=n(47171),l=n(81936),c=n(76050),d=n(61501),u=n(24189),m=n(14104),h=n(67849),g=n.n(h),v=n(73918);let x=(0,v.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function SidebarActions(t){let{chat:r,removeChat:n,shareChat:h}=t,[v,j]=a.useState(!1),[w,T]=a.useState(!1),[k,C]=a.useTransition(),[N,P]=a.useTransition(),E=(0,i.useRouter)(),I=a.useCallback(async t=>{if(!t.sharePath)return o.toast.error("Could not copy share link to clipboard");let r=new URL(window.location.href);r.pathname=t.sharePath,navigator.clipboard.writeText(r.toString()),T(!1),o.toast.success("Share link copied to clipboard",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}})},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"space-x-1"}),(0,s.jsx)(u.Vq,{open:w,onOpenChange:T,children:(0,s.jsxs)(u.cZ,{children:[(0,s.jsxs)(u.fK,{children:[(0,s.jsx)(u.$N,{children:"Share link to chat"}),(0,s.jsx)(u.Be,{children:"Anyone with the URL will be able to view the shared chat."})]}),(0,s.jsxs)("div",{className:"space-y-1 rounded-md border p-4 text-sm",children:[(0,s.jsx)("div",{className:"font-medium",children:r.title}),(0,s.jsxs)("div",{className:"text-muted-foreground",children:[(0,l.p6)(r.createdAt)," \xb7 ",r.messages.length," messages"]})]}),(0,s.jsxs)(u.cN,{className:"items-center",children:[r.sharePath&&(0,s.jsxs)(g(),{href:r.sharePath,className:(0,l.cn)(x({variant:"secondary"}),"mr-auto"),target:"_blank",children:[(0,s.jsx)(m.IconUsers,{className:"mr-2"}),r.sharePath]}),(0,s.jsx)(d.z,{disabled:N,onClick:()=>{P(async()=>{if(r.sharePath){await new Promise(t=>setTimeout(t,500)),I(r);return}let t=await h(r);if(t&&"error"in t){o.toast.error(t.error);return}I(t)})},children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.IconSpinner,{className:"mr-2 animate-spin"}),"Copying..."]}):(0,s.jsx)(s.Fragment,{children:"Copy link"})})]})]})}),(0,s.jsx)(c.aR,{open:v,onOpenChange:j,children:(0,s.jsxs)(c._T,{children:[(0,s.jsxs)(c.fY,{children:[(0,s.jsx)(c.f$,{children:"Are you absolutely sure?"}),(0,s.jsx)(c.yT,{children:"This will permanently delete your chat message and remove your data from our servers."})]}),(0,s.jsxs)(c.xo,{children:[(0,s.jsx)(c.le,{disabled:k,children:"Cancel"}),(0,s.jsxs)(c.OL,{disabled:k,onClick:t=>{t.preventDefault(),C(async()=>{let t=await n({id:r.id,path:r.path});if(t&&"error"in t){o.toast.error(t.error);return}j(!1),E.refresh(),E.push("/"),o.toast.success("Chat deleted")})},children:[k&&(0,s.jsx)(m.IconSpinner,{className:"mr-2 animate-spin"}),"Delete"]})]})]})})]})}},59376:function(t,r,n){"use strict";n.r(r),n.d(r,{SidebarItem:function(){return SidebarItem}});var s=n(95802),a=n(67849),i=n.n(a),o=n(28539),l=n(81936),c=n(61501),d=n(14104),u=n(235);function SidebarItem(t){let{chat:r,children:n}=t,a=(0,o.usePathname)(),m=a===r.path;return(null==r?void 0:r.id)?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-2 top-1 flex h-6 w-6 items-center justify-center",children:r.sharePath?(0,s.jsxs)(u.u,{delayDuration:1e3,children:[(0,s.jsx)(u.aJ,{tabIndex:-1,className:"focus:bg-muted focus:ring-1 focus:ring-ring",children:(0,s.jsx)(d.IconUsers,{className:"mr-2"})}),(0,s.jsx)(u._v,{children:"This is a shared chat."})]}):(0,s.jsx)(d.IconMessage,{className:"mr-2"})}),(0,s.jsx)(i(),{href:r.path,className:(0,l.cn)((0,c.d)({variant:"ghost"}),"group w-full pl-8 pr-16",m&&"bg-accent"),children:(0,s.jsx)("div",{className:"relative max-h-5 flex-1 select-none overflow-hidden text-ellipsis break-all",title:r.title,children:(0,s.jsx)("span",{className:"whitespace-nowrap",children:r.title})})}),m&&(0,s.jsx)("div",{className:"absolute right-2 top-1",children:n})]}):null}},45017:function(t,r,n){"use strict";n.r(r),n.d(r,{Sidebar:function(){return Sidebar}});var s=n(95802);n(82038);var a=n(81936),i=n(43521);function Sidebar(t){let{children:r,className:n}=t,{isSidebarOpen:o,isLoading:l}=(0,i.A)();return(0,s.jsx)("div",{"data-state":o&&!l?"open":"closed",className:(0,a.cn)(n,"h-full flex-col dark:bg-zinc-950"),children:r})}},67315:function(t,r,n){"use strict";n.r(r),n.d(r,{ThemeToggle:function(){return ThemeToggle}});var s=n(95802),a=n(82038),i=n(70156),o=n(61501),l=n(14104);function ThemeToggle(){let{setTheme:t,theme:r}=(0,i.F)(),[n,c]=a.useTransition();return(0,s.jsxs)(o.z,{variant:"ghost",size:"icon",onClick:()=>{c(()=>{t("light"===r?"dark":"light")})},children:[r?"dark"===r?(0,s.jsx)(l.IconMoon,{className:"transition-all"}):(0,s.jsx)(l.IconSun,{className:"transition-all"}):null,(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},43521:function(t,r,n){"use strict";n.d(r,{A:function(){return useSidebar},H:function(){return SidebarProvider}});var s=n(95802),a=n(82038);let i="sidebar",o=a.createContext(void 0);function useSidebar(){let t=a.useContext(o);if(!t)throw Error("useSidebarContext must be used within a SidebarProvider");return t}function SidebarProvider(t){let{children:r}=t,[n,l]=a.useState(!1),[c,d]=a.useState(!0);return(a.useEffect(()=>{let t=localStorage.getItem(i);t&&l(JSON.parse(t)),d(!1)},[]),c)?null:(0,s.jsx)(o.Provider,{value:{isSidebarOpen:n,toggleSidebar:()=>{l(t=>{let r=!t;return localStorage.setItem(i,JSON.stringify(r)),r})},isLoading:c},children:r})}}}]);